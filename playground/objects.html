<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title></title>
  <link rel="stylesheet" href="../base.css">
</head>

<body>
  <script src="https://unpkg.com/lodash@4.17.21/lodash.js"></script>
  <script>
    // "use strict"
    // Напишіть код, виконавши завдання з кожного пункту окремим рядком:
    const user = {}; // Створіть порожній об’єкт user.
    user.name = "Joan"; // Додайте властивість name зі значенням Іван.
    user.surname = "Smith"; // Додайте властивість surname зі значенням Сміт.
    user.name = "Peter"; // Змініть значення name на Петро.
    // Видаліть властивість name з об’єкта.
    // delete user.name;
    user.age = 23;
    console.log(user);

    // Напишіть функцію isEmpty(obj), яка повертає true, якщо об’єкт не має властивості, інакше false.
    // Має так працювати:
    // let schedule = {};
    // alert(isEmpty(schedule)); // true
    // schedule["8:30"] = "Вставай";
    // alert(isEmpty(schedule)); // false

    let myObj = {};

    function isEmpty(obj) {
      for (let key in obj) {
        return false;
      }
      return true;
    }

    // У нас є об’єкт для зберігання заробітної плати нашої команди:

    let salaries = {
      John: 100,
      Ann: 160,
      Pete: 130
    }
    // Напишіть код для підсумовування всіх зарплат і збережіть у змінній sum. У наведеному вище прикладі має бути 390.
    // Якщо об’єкт salaries порожній, то результат має бути 0.
    function addSalaries(obj) {
      let sum = 0;
      for (let key in obj) {
        sum += obj[key];
      }
      return sum;
    }
    // Створіть функцію multiplyNumeric(obj), яка примножує всі числові властивості об’єкта obj на 2.

    // Наприклад:

    // // до виклику функції
    let menu = {
      width: 200,
      height: 300,
      title: "Моє меню",
    };

    // multiplyNumeric(menu);

    // // після виклику функції
    // menu = {
    //   width: 400,
    //   height: 600,
    //   title: "Моє меню"
    // };
    // Зверніть увагу, що multiplyNumeric не потрібно нічого повертати. Слід безпосередньо змінювати об’єкт.

    // P.S. Використовуйте typeof для перевірки, що значення властивості числове.

    function multiplyNumeric(obj) {
      for (let key in obj) {
        let type = typeof obj[key];
        if (type === "number") {
          obj[key] *= 2;
        }
      }
    }

    function makeUser() {
      return {
        name: "Olha",
        ref: this,
      }
    }

    let account = makeUser();
    // alert(account.ref.name); // error if "use strict" or user.ref = window if
    // without "use strict"

    // const calculator = {
    //   a: 0,
    //   b: 0,
    //   read() {
    //     this.a = parseFloat(prompt("a?", ""));
    //     this.b = parseFloat(prompt("b?", ""));
    //   },
    //   sum() {
    //     return this.a + this.b;
    //   },
    //   mul() {
    //     return this.a * this.b;
    //   }
    // }

    // calculator.read();

    let ladder = {
      step: 0,
      up() {
        this.step++;
        return this;
      },
      down() {
        this.step--;
        return this;
      },
      showStep: function () { // показує поточний крок
        // alert(this.step);
        return this;
      }
    };

    ladder.up().up().down().showStep().down().showStep();

    function A() {
      return myObj;
    }
    function B() {
      return myObj;
    }

    let a = new A;
    let b = new B;

    // alert(a == b); // true
    const sarah = {
      name: "Sarah",
      age: 6,
      type: "rabbit",
      color: ["orange", "white", "black"],
      propertyToCheck: "test",
      sayHi(greeting = "sssss") {
        return `${greeting} ${this.name}`;
      }
    }

    const sarahFroze = Object.freeze(sarah);
    // console.log(sarahFroze);
    // sarahFroze.age = 7;
    // const propertyToCheck = prompt("Which property do you want to check?");
    // console.log(propertyToCheck);
    // console.log(sarah[propertyToCheck]);
    // console.log(sarah.propertyToCheck);
    // console.log(sarahFroze); // age still is 6. Object.freez() makes immutable obj.

    let person1 = {
      name: "Peter",
      age: 77,
    }

    let person2 = {
      name: "Peter",
      age: 77,
      animals: {
        cats: 2,
        dogs: 1,
        rabbit: 1,
        birds: 4,
      }
    }

    let person3 = person1;
    console.log(person3 === person1); // true
    person3.first = "Larry";
    console.log(person3.first);
    console.log(person1.first);

    // const person4 = { ...person2 };
    const person4 = _.cloneDeep(person2);
    person4.age = 23;
    console.log(person4.age);
    console.log(person2.age);
    person4.animals.birds = 0;
    console.log(person4.animals.birds);
    console.log(person2.animals.birds);

    const person5 = Object.assign({}, person1);
    person5.name = "Vera";
    console.log(person5.name);
    console.log(person1.name);

    const meatInventory = {
      bacons: 3,
      sausages: 10,
      oyster: 15
    }

    const veggieInventory = {
      tomatoes: 3,
      onions: 5,
      carrots: 1,
      oyster: 3,
    }

    const inventory = {
      ...meatInventory,
      ...veggieInventory, // oyster: 3 - the order of the spread does matter
      banana: 5,
      apples: 30,
      oranges: 3,
      strawberries: 100,
    }

    function doStuff(data) {
      return data = "Something else";
    }

    doStuff(person1.name);

    function updateInventory(data) {
      return data.tomatoes += 100000;
    }

    updateInventory(inventory);

    function updateAge(data) {
      return data.age += 1;
    }

    updateAge(person4);

  </script>
</body>

</html>